<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--  
<meta name="apple-mobile-web-app-capable" content="yes"/>
 -->   
<link rel="apple-touch-icon" href="icon.png">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-indigo.css">
    
<head><title>Interisland Pay Calc</title></head>
    
<body>
    
<header class="w3-container w3-card-4 w3-theme">
  <h1>Daily Pay Calculator</h1>
</header>
    
 <div>
 <br>
Enter Pairing Details:   
    <br>  
      <label for="hours">Duty Hours:</label>
      <input type="number" id="hours" name="hours">
      <label for="minutes">Minutes:</label>
      <input type="number" id="minutes" name="minutes"><br><br> 
    <br>
   
<label for="duty">Duty Day:</label>
<input type="time" id="duty" name="start" min="04:10" max="10:00" value="05:00">
  <br>
<label for="block">Block Hours:</label>
<input type="time" id="block" name="block" min="00:01" max="8:00">
  <br>
<label for="pay">Pay:</label>
<input id="sched_pay" type="time"><br>
<br>
<label for="land"># Landings:</label>
<input id="landings" type="number" min="1" max="10"><br>
<br>
<button id="calc">Calculate</button><br>
 </div>  
 
 <br>    
<br>
    <div id="intro" style='font-weight:bold';></div>
    <div id="pay"></div><br><br>
    <div id="results"></div>
    <div id="results2"></div>
    <div id="results3"></div><br>
    <div id="quote"></div>
    
<script>


 

 var calc = document.getElementById("calc")
 
calc.addEventListener("click", function() {
 
        let hours = parseInt(document.getElementById("hours").value);
        let minutes = parseInt(document.getElementById("minutes").value);

        // Calculate result
        let resultMinutes = (hours * 60 + minutes) * 0.6;
        let resultHours = Math.floor(resultMinutes / 60);
        let resultMinutesRemainder = Math.round(resultMinutes % 60);

        // Format result as HH:MM
        let formattedResult = (resultHours < 10 ? "0" : "") + resultHours + ":" + (resultMinutesRemainder < 10 ? "0" : "") + resultMinutesRemainder;
 
 function padTo2Digits(num) {return num.toString().padStart(2, '0');}   //this function makes hours and minutes look like HH:MM
    
    //get duty time, convert to js date
    var d = new Date();
    d.setHours(0,0,0,0);
    var duty = document.getElementById("duty").value;
    var duty_date = new Date("2023-01-01" +" "+ duty);
    var duty_minutes = Math.abs(duty_date-d) / 60000; //compute duty day from midnight in milliseconds, convert to minutes
    const h2= Math.floor(duty_minutes / 60); 
    const m2 = Math.round(duty_minutes % 60);
    var rig_pay = `${padTo2Digits(h2)}:${padTo2Digits(m2)}`; 
   
    //get user input in-time, convert to js date
    var pay = document.getElementById("sched_pay").value;
    var pay_date = new Date("2023-01-01" +" "+ pay);
    var pay_minutes = Math.abs(pay_date) / 60000; 
 
    var block = document.getElementById("block").value;
    var block_date = new Date("2023-01-01" +" "+ block);
    var block_minutes = Math.abs(block_date) / 60000; 
    
    document.getElementById("intro").innerHTML = "This is a (Duty Rig/ MDG/ Block) Day";
    document.getElementById("pay").innerHTML = ""; 
    document.getElementById("results").innerHTML = formattedResult;
    document.getElementById("results2").innerHTML = "+ " +rig_pay + " (Total Duty Day x 60%)";
    document.getElementById("results3").innerHTML = "Block Minutes" +block_minutes+ "";; 
    document.getElementById("quote").innerHTML = "";

})
       
</script>    
</body> 
</html>

\
