<!DOCTYPE html>
<html>
<body>

<div>Enter your Block in time:<input id="time" type="time" min ="18:00" max "23:59"</div><br>
<button id="calc">Calculate</button><br>

Off Duty: <div id="offduty"></div><br>
Duty Day:<div id="duty"></div><br>
60% Duty Rig:<div id="rig"></div><br>
Pay and Credit:<div id="pay"></div><br>
    
<script>
function padTo2Digits(num) {return num.toString().padStart(2, '0');}
    
var calc = document.getElementById("calc")

calc.addEventListener("click", function() {
    
    //get user input in-time, convert to js date
    var time = document.getElementById("time").value;
    var in_time = new Date("2023-01-01" + " " + time);
      
    //add 15 min to in-time to get off duty time
    var plus15 = new Date(in_time.getTime() + 15*60000);
    alert("Off duty time is: " plus15);
    
    //grab H and M from off duty time to do some math
    var hour = plus15.getHours();
    var min = plus15.getMinutes();

   // var parts = time.split(":");
    //var hour = (parts[0]);
    //var min = Number(parts[1]);
    
    var duty = (hour * 60 + min) - 600     //duty day computed from 1000, in minutes
    let hours = Math.floor(duty / 60); 
    let minutes = duty % 60;
    var duty_day = `${padTo2Digits(hours)}:${padTo2Digits(minutes)}`; //converts minutes back to HH:MM
    
    var rig = duty * .6; //60% duty rig
    const h2= Math.floor(rig / 60); 
    const m2 = rig % 60;
    var rig_pay = `${padTo2Digits(h2)}:${padTo2Digits(m2)}`;
    
    var m4m = duty - 480;
    let h3 = Math.floor(m4m / 60); 
    let m3 = m4m % 60;
    var m4m_pay = `${padTo2Digits(h3)}:${padTo2Digits(m3)}`;
    
    var pay = m4m + rig; //all duty after 1800
    let h4= Math.floor(pay / 60); 
    let m4 = pay % 60;
    var tot_pay = `${padTo2Digits(h4)}:${padTo2Digits(m4)}`;
    
    document.getElementById("duty").innerHTML = duty_day;
    document.getElementById("rig").innerHTML = `${padTo2Digits(h2)}:${padTo2Digits(m2)}`;
    document.getElementById("m4m").innerHTML = m4m_pay;
    document.getElementById("pay").innerHTML = tot_pay;
 
    
})
</script>
    
    
    var calc = document.getElementById("calc")

calc.addEventListener("click", function() {
    


    //hour = (hour < 10 ? "0" : "") + hour;
    //min = (min < 10 ? "0" : "") + min;
    
    var offduty = hour + ":" + min; 
    
    //var offduty = h + ":" + m;
    var tot_min = hour * 60 + min
      
 document.getElementById("offduty").innerHTML = offduty;
    alert(offduty);
    alert(tot_min);
    
    //duty day calculations
    var duty = new Date(plus15.getTime() - 36000000);   //off duty time minus 10:00 in milliseconds
    var duty_day = new Date(duty).toISOString().slice(11,16)   // convert to HH:MM for display
    let rig = (duty_day * .6) / 60;
    alert(duty_day);
    alert(rig);
    //calculate duty day
    //var duty = new Date(plus15.getTime() - ten_am.getTime());
    //var duty_day = new Date(duty).toISOString().slice(11,16)   // convert to HH:MM
    //let rig_calc = duty * 0.6;
    //var rig = new Date(rig_calc).toISOString().slice(11,16)   // convert to HH:MM
    document.getElementById("duty").innerHTML = duty_day;
    document.getElementById("rig").innerHTML = rig;
    
    
    //show me the money
   // var pay_calc = offduty - 64800000 + rig; //calc time past 1800 (in milliseconds) 
   // var pay = new Date(pay_calc).toISOString().slice(11,16);  // convert to HH:MM
    let pay = rig + 
    document.getElementById("pay").innerHTML = pay;
    alert(pay)
})
</script>

    
    
</body> 
</html>
